<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Rubixvi - Development</title>
  <!-- Favicon (multi-resolution .ico) -->
  <link rel="icon" type="image/x-icon" href="favicon.ico">

  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@500;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>

    <!-- SEO (Optional) -->
    <meta name="description" content="Rubixvi ‚Äì Re-imagining global healthcare. Building something new. Aligning possibilities across dimensions." />
    <meta name="theme-color" content="#2c2c2c" />
</head>
<body>
  <div class="hero-section">
    <img src="rubixvi_logo.png" alt="Rubixvi logo" />
    
    <h1>Rubixvi</h1>

    <div class="main-slogan">
      Re‚Äëimagining global healthcare
    </div>

    <div class="slogan">
      We're building something new.
    </div>

    <button class="get-started-btn" onclick="document.getElementById('about').scrollIntoView({behavior: 'smooth'})">
      Get started
    </button>
  </div>

  <section id="about" class="cards-section">
    <div class="cards-container">
      <div class="cards-grid">
      <div class="card">
        <h3>About</h3>
        <p>Rubixvi is a healthcare innovation company based in Singapore, building a transformative medtech platform designed to change how care is experienced ‚Äî starting from Asia, built for the world. Our founders bring deep expertise across healthcare and technology, combining real-world insight with a bold vision for what connected care can look like. We're focused on creating systems that work with clarity and purpose at their core.</p>
      </div>

      <div class="card">
        <h3>Vision</h3>
        <p>We envision a world where healthcare evolves with us ‚Äî designed to support every step of life's journey. Through thoughtful design and purposeful technology, we're building systems that simplify care, connect experiences, and honor the people behind every interaction. We believe better care enables people to live with dignity, confidence, and the freedom to reach their full potential.</p>
      </div>

      <div class="card">
        <h3>Join Us</h3>
        <p>We're looking for rockstars to join the team. If you think you've got what it takes to revolutionize healthcare, reach out to chat about a seat on the rocketship!</p>
        <a href="#careers" onclick="document.getElementById('careers').scrollIntoView({behavior: 'smooth'})" class="card-link">Find out more ‚Üí</a>
      </div>

      <div class="card">
        <h3>Contact</h3>
        <p>Ready to learn more or discuss partnership opportunities?</p>
        <a href="mailto:hello@rubixvi.com" class="card-link">hello@rubixvi.com</a>
        <p style="margin-top: 1rem; margin-bottom: 0.5rem;">Follow our journey on LinkedIn:</p>
        <a href="https://www.linkedin.com/company/rubixvi/posts/" target="_blank" class="card-link">
          <svg style="width: 16px; height: 16px; vertical-align: -2px; margin-right: 4px;" fill="#1e90ff" viewBox="0 0 24 24">
            <path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"/>
          </svg>
          LinkedIn
        </a>
      </div>
    </div>
    </div>
  </section>

  <section id="careers" class="careers-section">
    <div class="careers-container">
      <div class="careers-header">
        <h2 class="careers-title">Join Our Team</h2>
        <p class="careers-subtitle">We're a <strong>stealth-mode healthcare innovation company</strong> building the next generation of healthcare applications. In our team, you'll enjoy the <strong>energy of a startup</strong> with <strong>people-centric impact</strong>, tremendous opportunities to work with an <strong>extraordinary team</strong> of smart, creative, fun, and <strong>highly motivated</strong> people, and flexible hours including remote work.</p>
      </div>
      
      <div id="jobs-container">
        <!-- Jobs will be loaded here dynamically -->
      </div>
    </div>
  </section>

  <button class="back-to-top" onclick="scrollToPreviousSection()">
    ‚Üë
  </button>

  <footer class="footer">
    <p>¬© 2025 Rubixvi Pte Ltd | Singapore | Remote Worldwide | All rights reserved</p>
  </footer>

  <script>
    function toggleJobDetails(jobCard) {
      // Close all other expanded job cards
      const allJobCards = document.querySelectorAll('.job-card');
      allJobCards.forEach(card => {
        if (card !== jobCard) {
          card.classList.remove('expanded');
        }
      });
      
      // Toggle the clicked card
      jobCard.classList.toggle('expanded');
      
      // Check if content is scrollable after expansion
      if (jobCard.classList.contains('expanded')) {
        setTimeout(() => {
          checkScrollability(jobCard);
        }, 500); // Wait for CSS transition to complete
      }
    }

    function checkScrollability(jobCard) {
      const jobDetails = jobCard.querySelector('.job-details');
      if (jobDetails.scrollHeight > jobDetails.clientHeight) {
        jobDetails.classList.add('has-scroll');
        
        // Hide scroll indicator when user scrolls near bottom
        jobDetails.addEventListener('scroll', function() {
          const scrollPercentage = (this.scrollTop + this.clientHeight) / this.scrollHeight;
          if (scrollPercentage > 0.9) {
            this.classList.remove('has-scroll');
          }
        });
      } else {
        jobDetails.classList.remove('has-scroll');
      }
    }

    // Footer and back-to-top scroll animation
    function handleScrollAnimations() {
      const footer = document.querySelector('.footer');
      const backToTop = document.querySelector('.back-to-top');
      const careersSection = document.getElementById('careers');
      const careersRect = careersSection.getBoundingClientRect();
      const windowHeight = window.innerHeight;
      
      // Show footer when careers section is 70% visible
      if (careersRect.top <= windowHeight * 0.3) {
        footer.classList.add('visible');
      } else {
        footer.classList.remove('visible');
      }

      // Show back-to-top button when scrolled past hero section
      if (window.scrollY > windowHeight * 0.5) {
        backToTop.classList.add('visible');
      } else {
        backToTop.classList.remove('visible');
      }
    }

    // Listen for scroll events
    window.addEventListener('scroll', handleScrollAnimations);
    
    // Check on initial load
    handleScrollAnimations();


    // Load and render jobs from JSON
    async function loadJobs() {
      try {
        const response = await fetch('./jobs.json');
        if (!response.ok) {
          throw new Error(`HTTP error! status: ${response.status}`);
        }
        const data = await response.json();
        renderJobs(data.jobs);
      } catch (error) {
        console.warn('Could not load jobs.json:', error);
        // Show error message instead of fallback data
        const container = document.getElementById('jobs-container');
        container.innerHTML = `
          <div style="
            background: #fff;
            border: 1px solid #e0e0e0;
            border-radius: 12px;
            padding: 2rem;
            text-align: center;
            margin: 2rem 0;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
          ">
            <h3 style="
              color: #ff6b6b;
              margin-bottom: 1rem;
              font-size: 1.2rem;
            ">‚ö†Ô∏è Unable to Load Job Listings</h3>
            <p style="
              color: #666;
              margin: 0;
              line-height: 1.5;
            ">We're having trouble loading our current job openings. Please try again later or contact us directly.</p>
          </div>
        `;
      }
    }

    function renderJobs(jobs) {
      const container = document.getElementById('jobs-container');
      console.log('Rendering', jobs.length, 'jobs');
      
      jobs.forEach((job, index) => {
        console.log('Creating job card for:', job.title);
        const jobCard = document.createElement('div');
        jobCard.className = 'job-card';
        jobCard.onclick = () => toggleJobDetails(jobCard);
        
        jobCard.innerHTML = `
          <div class="job-header">
            <div class="job-info">
              <div class="job-title">${job.title}</div>
              <div class="job-location">${job.location}</div>
              <div class="job-summary">${job.summary}</div>
            </div>
            <div class="job-arrow">‚Üí</div>
          </div>
          <div class="job-details">
            <div class="scroll-indicator">‚Üì</div>
            <div class="job-description">
              ${job.description.map(p => `<p>${p}</p>`).join('')}
              
              <h4>Requirements</h4>
              <ul>
                ${job.requirements.map(req => `<li>${req}</li>`).join('')}
              </ul>

              <h4>Who You Are</h4>
              <ul>
                ${job.whoYouAre.map(trait => `<li>${trait}</li>`).join('')}
              </ul>

              <h4>What You Will Do</h4>
              <ul>
                ${job.whatYouWillDo.map(task => `<li>${task}</li>`).join('')}
              </ul>

              <h4>Contract & Setup</h4>
              <ul>
                ${job.contractSetup.map(item => `<li>${item}</li>`).join('')}
              </ul>

              <div class="job-cta">
                <div class="job-separator"></div>
                <p class="cta-text">Interested in this role? We'd love to hear from you!</p>
                <button class="cta-button" onclick="event.stopPropagation(); showConfirmation(this, '${encodeURIComponent(job.title)}')">
                  Apply for this position ‚Üí
                </button>
                <div class="email-notice" style="display: none;">
                  <p>üìß This will open your email client and direct you to: <strong>hello@rubixvi.com</strong></p>
                </div>
              </div>
            </div>
          </div>
        `;
        
        container.appendChild(jobCard);
      });
    }

    // Load jobs when page loads
    loadJobs();

    // Show confirmation when apply button is clicked
    function showConfirmation(button, jobTitle) {
      const notice = button.parentElement.querySelector('.email-notice');
      
      // Store original button content
      const originalText = button.innerHTML;
      
      // Change button to confirmation state
      button.innerHTML = 'Open Email Client';
      button.classList.add('confirmation-state');
      notice.style.display = 'block';
      
      // Add click handler for actual email action
      const confirmHandler = function(e) {
        e.stopPropagation();
        window.location.href = `mailto:hello@rubixvi.com?subject=Application for ${decodeURIComponent(jobTitle)} Position`;
        
        // Reset button after email action
        resetButton();
      };
      
      button.onclick = confirmHandler;
      
      // Reset function
      function resetButton() {
        button.innerHTML = originalText;
        button.classList.remove('confirmation-state');
        notice.style.display = 'none';
        button.onclick = (e) => {
          e.stopPropagation();
          showConfirmation(button, jobTitle);
        };
      }
      
      // Auto-reset after 5 seconds if no action
      setTimeout(resetButton, 5000);
    }

    // Section navigation functionality
    function scrollToPreviousSection() {
      const sections = [
        document.querySelector('.hero-section'),
        document.getElementById('about'),
        document.getElementById('careers')
      ];
      
      const currentScrollY = window.scrollY;
      const windowHeight = window.innerHeight;
      
      // Find current section based on scroll position
      let targetSection = sections[0]; // Default to hero
      
      if (currentScrollY >= sections[2].offsetTop - windowHeight * 0.3) {
        // In careers section, go to cards section
        targetSection = sections[1];
      } else if (currentScrollY >= sections[1].offsetTop - windowHeight * 0.3) {
        // In cards section, go to hero section
        targetSection = sections[0];
      }
      
      targetSection.scrollIntoView({behavior: 'smooth'});
    }

    // Anime.js animations
    // Hero section animations
    anime.timeline()
      .add({
        targets: 'img',
        translateY: [-30, 0],
        opacity: [0, 1],
        duration: 800,
        easing: 'easeOutExpo'
      })
      .add({
        targets: 'h1',
        translateY: [-20, 0],
        opacity: [0, 1],
        duration: 600,
        easing: 'easeOutExpo'
      }, '-=400')
      .add({
        targets: '.main-slogan',
        translateY: [-20, 0],
        opacity: [0, 1],
        duration: 600,
        easing: 'easeOutExpo'
      }, '-=300')
      .add({
        targets: '.slogan',
        translateY: [-20, 0],
        opacity: [0, 1],
        duration: 600,
        easing: 'easeOutExpo'
      }, '-=200')
      .add({
        targets: '.get-started-btn',
        translateY: [-20, 0],
        opacity: [0, 1],
        duration: 600,
        easing: 'easeOutExpo'
      }, '-=100');

    // Cards animation on scroll
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          if (entry.target.classList.contains('card')) {
            anime({
              targets: entry.target,
              translateY: [50, 0],
              opacity: [0, 1],
              duration: 800,
              easing: 'easeOutExpo',
              delay: anime.stagger(100)
            });
          } else if (entry.target.classList.contains('job-card')) {
            anime({
              targets: entry.target,
              translateY: [30, 0],
              opacity: [0, 1],
              duration: 600,
              easing: 'easeOutExpo'
            });
          } else if (entry.target.classList.contains('careers-title')) {
            anime({
              targets: '.careers-title',
              translateY: [-30, 0],
              opacity: [0, 1],
              duration: 800,
              easing: 'easeOutExpo'
            });
          } else if (entry.target.classList.contains('careers-subtitle')) {
            anime({
              targets: '.careers-subtitle',
              translateY: [-20, 0],
              opacity: [0, 1],
              duration: 600,
              easing: 'easeOutExpo',
              delay: 200
            });
          }
          observer.unobserve(entry.target);
        }
      });
    }, { threshold: 0.1 });

    // Observe elements for animation
    document.querySelectorAll('.card, .job-card, .careers-title, .careers-subtitle').forEach(el => {
      el.style.opacity = '0';
      observer.observe(el);
    });

  </script>
</body>
</html>